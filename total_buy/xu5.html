<html>

<head>
  <meta charset="utf-8">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>必赢彩票</title>
  <style>
    .bullets>.swiper-pagination-bullet {
      background: rgba(255, 255, 255, 0.8);
      opacity: 1;
    }

    .bullets.liwu>.swiper-pagination-bullet {
      background: #999;
    }

    .bullets>.swiper-pagination-bullet.swiper-pagination-bullet-active {
      background: #d80b2a;
    }

    .loading {
      background-image: url("../image/load.gif");
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }

    .touzhu_xiabu_public nav div.area div.left {
      width: 59px !important;
      background: #fff;
      z-index: 999;
    }

    .touzhu_xiabu_public nav div.area div.right {
      width: 59px !important;
      border-left: 1px solid #e3e3e3;
      transform: rotate(-180deg);
      border-right: 0 !important;
      background: #fff;
      z-index: 999;
    }

    .touzhu_xiabu_public nav div.area div.right img {
      position: absolute;
      top: 50%;
      left: 50%;
      margin-top: -11px;
      margin-left: -11px;

    }

    .touzhu_xiabu_public nav div.area div.left img {
      position: absolute;
      top: 50%;
      left: 50%;
      margin-top: -11px;
      margin-left: -11px;

    }

    .swiper-wrapper {
      width: 800px !important;
      float: left;
    }

    .choose .public_btn {
      width: 100px;
      height: 36px;
      margin: 25px 0 44px;
      font-size: 14px;
      font-weight: 700;
      line-height: 36px;
      color: #fff;
      border-radius: 3px;
    }
  </style>

  <style type="text/css">
    :root .content>a>.topline,
    :root .container>a.mid-wrapper {
      display: none !important;
    }
  </style>
  <link href="../css/app.baiying.css" rel="stylesheet">
</head>

<body class="">
  <div id="app" v-cloak>
    <div data-v-50b23bb5="" id="red" class="buy_public">
      <div data-v-0ac3c666="" data-v-50b23bb5="" class="backHeader">
        <div data-v-0ac3c666="" class="top">
          <div data-v-0ac3c666="" class="container">
            你好，欢迎光临必赢彩票 !
            <ul data-v-0ac3c666="" class="tabs">
              <li data-v-0ac3c666=""><a data-v-0ac3c666="" href="#/zhuce" class="">加入代理</a></li>
              <li data-v-0ac3c666=""><a data-v-0ac3c666="" href="#/user" class="">用户中心</a></li>
              <li data-v-0ac3c666=""><a data-v-0ac3c666="" href="#/touzhu" class="">投注记录</a></li>
              <li data-v-0ac3c666=""><a data-v-0ac3c666="" href="#/help" class="">帮助中心</a></li>
              <li data-v-0ac3c666=""><a data-v-0ac3c666="" class="public_color">在线客服</a></li>
            </ul>
          </div>
        </div>
        <header data-v-0ac3c666="">
          <div data-v-0ac3c666="" class="unlogin_container" v-if="loginFlag==true">
            <div data-v-0ac3c666=""><img data-v-0ac3c666="" src="../image/user-icon_03.png">
              <input data-v-0ac3c666="" type="text" placeholder="用户名" v-model="zhanghao"></div>
            <div data-v-0ac3c666=""><img data-v-0ac3c666="" src="../image/luck.png">
              <input data-v-0ac3c666="" type="password" placeholder="密码" v-model="mima"></div>
            <button data-v-0ac3c666="" class="public_back" @click="login()">登录</button> <button data-v-0ac3c666=""
              class="regist" @click="regist()">注册</button>
          </div>
          <ul data-v-0ac3c666="" class="login_container" v-else>
            <li data-v-0ac3c666="" class="username"><img data-v-0ac3c666="" :src="loginObj.url" @click="gerezhongxin()">
              您好，<a data-v-0ac3c666="" class="public_color">{{loginObj.account}}</a>
              <!---->
            </li>
            <li data-v-0ac3c666="" class="show_yue">
              可用余额:
              <span data-v-0ac3c666="" class="public_color" v-if="balance">(已隐藏)</span>
              <span data-v-0ac3c666="" class="public_color" v-else>{{checkbalance}}元</span>
              <img data-v-0ac3c666="" src="../image/hidden.png" @click="balance = !balance"></li>
            <li data-v-0ac3c666="" class="btns"><a data-v-0ac3c666="" href="#/recharge" class="">充值</a></li>
            <li data-v-0ac3c666="" class="btns"><a data-v-0ac3c666="" href="#/tixian" class="">提现</a></li>
            <li data-v-0ac3c666="" class="btns"><a data-v-0ac3c666="" @click="out()">退出</a></li>
          </ul>
        </header>
        <div data-v-0ac3c666="" class="menu public_back">
          <div data-v-0ac3c666="" class="container">
            <div data-v-0ac3c666="" class="menuLeft" @mouseenter="ALLFLAG = true" @mouseleave="ALLFLAG = false"><img
                data-v-0ac3c666="" src="../image/classify.png">
              全部彩种分类
              <ul data-v-0ac3c666="" class="all_lottery public_color" v-if="ALLFLAG">
                <li data-v-0ac3c666="" v-for="(allitem, index) in ALL_LIST" :key="index" v-if="index>=1">
                  <p data-v-0ac3c666="">{{allitem.cp_name}}</p>
                  <div data-v-0ac3c666="" v-for="(listitem, index) in allitem.list" :key="index">
                    <span data-v-0ac3c666="" @click="JumpGo(listitem)">{{listitem.title}}</span>
                  </div>
                </li>
              </ul>
            </div>
            <ul data-v-0ac3c666="" class="menuRight">
              <li data-v-0ac3c666="" class="">
                <!---->
                <!----> <a data-v-0ac3c666="" href="../index.html">首页</a></li>
              <li data-v-0ac3c666="" class="">
                <!---->
                <!----> <a data-v-0ac3c666="" href="../hall.html">购彩大厅</a></li>
              <li data-v-0ac3c666="" class="">
                <!---->
                <div data-v-0ac3c666="" class="hot"><img data-v-0ac3c666="" src="../image/hot2.png">
                  <img data-v-0ac3c666="" src="../image/hot2.gif"></div>
                <a data-v-0ac3c666="" href="../buy.html">直播间</a>
              </li>
              <li data-v-0ac3c666="" class="">
                <!---->
                <!----> <a data-v-0ac3c666="" href="../yhHuodong.html">优惠活动</a></li>
              <li data-v-0ac3c666="" class="red">
                <!---->
                <!----> <a data-v-0ac3c666="" href="../zoushi.html">走势图</a></li>
              <li data-v-0ac3c666="" class="">
                <!---->
                <!----> <a data-v-0ac3c666="" href="../jihua.html">精准计划</a></li>
              <li data-v-0ac3c666="" class="">
                <!---->
                <!----> <a data-v-0ac3c666="" href="../notice.html">网站公告</a></li>
              <li data-v-0ac3c666="" class=""><img data-v-0ac3c666="" src="../image/phone-icon.png" style="width: 15px;">
                <!----> <a data-v-0ac3c666="" href="../phone_buy.html">手机购彩</a></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 内容替换区 -->

      <div data-v-a925a868="" class="container clear">
        <div data-v-a925a868="" class="shangbu clear">
          <ul data-v-a925a868="" class="switch_btn input_border" style="top: 220px;">
            <li data-v-a925a868="" class="on">投注区</li>
            <li data-v-a925a868="" class=""><img data-v-a925a868="" src="../image/hot_1.png">
              直播间
            </li>
          </ul>
          <div data-v-a925a868="" class="left">
            <div data-v-a925a868="" class="countdown clear">
              <div data-v-a925a868=""><span data-v-a925a868="" class="top-cat_" :class="uploadName"></span>
                <p data-v-a925a868="">{{CHINESE_NAME}}</p>
                <p data-v-a925a868="">第
                  <span data-v-a925a868="" class="public_color">{{expect_num}}</span>期</p>
              </div>
              <div data-v-a925a868="">
                <p data-v-a925a868="">距投注截止时间还有</p>
                <span data-v-a925a868="">{{frist_countdown}}</span>
                <span data-v-a925a868="">:</span>
                <span data-v-a925a868="">{{middle_countdown}}</span>
                <span data-v-a925a868="">:</span>
                <span data-v-a925a868="">{{last_countdown}}</span>
              </div>
            </div>
          </div>
          <div data-v-a925a868="" class="right">
            <div data-v-a925a868="">
              <p data-v-23a4cc14="">第 <span data-v-23a4cc14="" class="public_color">{{DAOJISHI_BEFORE}}</span> 期</p>
              <ul data-v-23a4cc14="" class="clear" v-if="DAOJISHI_SHOW == true">
                <li data-v-23a4cc14="" style="background: url(&quot;../image/num.png&quot;) 0% 0% / contain no-repeat;"
                  v-for="(item,index) in 5" :key="index"><img data-v-23a4cc14="" src="../image/num.gif"></li>

              </ul>
              <ul data-v-23a4cc14="" v-else>
                <li data-v-23a4cc14="" style="background: url(&quot;../image/num.png&quot;) 0% 0% / contain no-repeat;"
                  v-for="(item, index) in DAOJISHI_LIST" :key="index">{{item}}</li>
              </ul>
            </div>
          </div>
        </div>
        <div data-v-a925a868="" class="xiabu touzhu_xiabu_public clear">
          <div data-v-a925a868="" class="left">
            <nav data-v-a925a868="">
              <div data-v-a925a868="" class="area clear">
                <!-- 列表渲染 -->
                <div class="swiper-container" data-v-a925a868="">
                  <div data-v-a925a868="" class="swiper-slide left"><img src="../image/icon-arrow.png" alt="" srcset=""
                      @click="left()"></div>
                  <div class="swiper-wrapper">
                    <div data-v-a925a868="" class="swiper-slide" v-for="(pitem, pindex) in PLAY_LIST" :key="pindex"
                      :data-name="pitem.name" :data-typeid="pitem.typeid" @click="changelist(pitem.name,pindex,pitem.title)"
                      :class="{'on':pindex == PLAYINDEX}">{{pitem.title}}</div>
                  </div>
                  <div data-v-a925a868="" class="swiper-slide right"><img src="../image/icon-arrow.png" alt="" @click="right()"></div>
                </div>

              </div>
              <!-- 玩法渲染 -->
              <ul data-v-a925a868="" class="kind clear">
                <li data-v-a925a868="" class="" v-for="(xitem, xindex) in XIADAN_LIST" :key="xindex" :class="{'on':xindex==xiadanindex}"
                  @click="qiehuan(xindex)">{{xitem.title}}</li>
              </ul>
            </nav>
            <!-- 和值玩法 -->
            <div data-v-4ab4cb2b="" data-v-a925a868="" id="red" class="choose" v-for="(hzitem, hzindex) in XIADAN_LIST"
              :key="hzindex" v-if="xiadanindex == hzindex">
              <p data-v-4ab4cb2b=""><img data-v-4ab4cb2b="" src="../image/icon-alert.png">
                玩法提示：<span data-v-4ab4cb2b="">{{hzitem.explain}}</span></p>
              <ul data-v-9f693492 class="clear">
                <li data-v-4ab4cb2b="" v-for="(item, index) in hzitem.list" :key="index">
                  <button data-v-4ab4cb2b="" class="" :data-hzplayid="item.playid" :class="{'on':item.show == true}"
                    @click="show(item)">{{item.title}}</button>
                  <p data-v-4ab4cb2b="">{{Math.floor((item.rate - ((loginObj.point_user_type-loginObj.point) *
                    item.formula))*1000)/1000}}</p>
                </li>
              </ul>

            </div>



            <div data-v-a925a868="" class="invest">
              <div data-v-a925a868="" class="block1"></div>
              <div data-v-a925a868="" class="block2"></div>
              <div data-v-a925a868="" class="show-box-parent">
                <!-- 下注界面 -->
                <div data-v-a925a868="" class="show-box">
                  <ul data-v-a925a868="" class="clear" v-for="(item, index) in hzarray" :key="index" :data-playid="item.playid">
                    <li data-v-a925a868="" class="text-overflow">[{{item.play_name}}] {{item.betting_number}}</li>
                    <li data-v-a925a868="" v-if="item.betting_count == 1">总共 1 注 每注
                      <input data-v-a925a868="" type="text" v-model="item.betting_money">元</li>
                    <li data-v-a925a868="" v-else>总共 {{item.betting_count}} 注 每注
                      <input data-v-a925a868="" type="text" v-model="item.betting_money">元</li>
                    <li data-v-a925a868="">可中金额：
                      <span data-v-a925a868="" class="public_color">{{Math.floor(((item.betting_money)*Math.floor((item.rate
                        - (loginObj.point_user_type-loginObj.point) * item.formula)*1000)/1000)*100)/100}}</span>
                      元</li>
                    <li data-v-a925a868=""><button data-v-a925a868="" class="public_font_color2" @click="del(index,item.betting_number)">删除</button></li>
                  </ul>
                </div>
                <div data-v-a925a868="" class="box-footer"><button data-v-a925a868="" @click="clearArr()">清空列表</button>
                  <!-- <input data-v-a925a868="" type="text" placeholder="请输入统一金额" class="input_border" > -->
                </div>
              </div>
              <p data-v-a925a868="">方案注数
                <span data-v-a925a868="" class="public_color">{{uploadNumber}}</span> 注，投注总金额：
                <span data-v-a925a868="" class="public_color">{{uploadPrice}}</span>元
              </p> <button data-v-a925a868="" class="public_btn" @click="upload()">立即投注</button>
            </div>
          </div>
          <div data-v-a925a868="" class="right">
            <div data-v-a925a868="">
              <div data-v-a925a868="" class="outer">
                <div data-v-a925a868="" class="inner"><a data-v-a925a868="" href="../zoushi.html">号码走势</a> <i
                    data-v-a925a868=""></i>
                  <span data-v-a925a868="">玩法规则</span></div> <img data-v-a925a868="" src="../image/icon-cup_1.png">
                今日开奖
              </div>
              <ul data-v-5afbb938="" class="clear" :class="{'qiu':ERTHDXINDEX<5,'longhu':ERTHDXINDEX==6}">
                <li data-v-5afbb938="">期号</li>
                <li data-v-5afbb938="" v-if="ERTHDXINDEX!=6">开奖号</li>
                <li data-v-5afbb938="" v-else>总和</li>
                <li data-v-5afbb938="" v-if="ERTHDXINDEX==6">龙虎</li>
                <li data-v-5afbb938="" v-if="ERTHDXINDEX!=5">形态</li>

              </ul>
              <ul data-v-5afbb938="" :class="{'qiu':ERTHDXINDEX<5,'longhu':ERTHDXINDEX==6}">
                <li data-v-5afbb938="" class="clear" v-for="(item,index) in ZOUSHI_LIST" :key="index" v-if="index<=19">
                  <div data-v-5afbb938="">{{item.expect}}</div>
                  <div data-v-5afbb938 v-if="ERTHDXINDEX!=6">
                    <i data-v-5afbb938 v-for="(item,index) in item.opencode.split(',')" :key="index" :class="{'red':ERTHDXINDEX==index}">{{item}}
                    </i>
                  </div>
                  <div data-v-5afbb938="" v-else><i data-v-5afbb938="" class="red">{{qiuhe(item.opencode,1)}}</i></div>
                  <div data-v-5afbb938="" v-if="ERTHDXINDEX==6">{{longhu(item.opencode.split(','))}}</div>

                  <div data-v-5afbb938 v-if="ERTHDXINDEX<5 ">
                    <span data-v-5afbb938 :class="[daxiao(item.opencode.split(',')[ERTHDXINDEX],1)=='大'?'d-blue':'']">{{daxiao(item.opencode.split(',')[ERTHDXINDEX],1)}}</span>
                    <span data-v-5afbb938 :class="[daxiao(item.opencode.split(',')[ERTHDXINDEX],2)=='单'?'blue':'yellow']">{{daxiao(item.opencode.split(',')[ERTHDXINDEX],2)}}</span>
                  </div>
                  <div data-v-5afbb938 v-if="ERTHDXINDEX==6">
                    <span data-v-5afbb938 :class="[qiuhe(item.opencode,2)=='大'?'d-blue':'']">{{qiuhe(item.opencode,2)}}</span>
                    <span data-v-5afbb938 :class="[qiuhe(item.opencode,3)=='单'?'blue':'yellow']">{{qiuhe(item.opencode,3)}}</span>
                  </div>
                </li>

              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- 内容替换区结束 -->
      <!---->
      <div data-v-94a66012="" data-v-50b23bb5="" class="backFooter">
        <div data-v-94a66012="" class="container">
          <ul data-v-94a66012="" class="tabs">
            <li data-v-94a66012="">
              技术支持<span data-v-94a66012="">Technica support</span></li>
            <li data-v-94a66012="">
              服务体验<span data-v-94a66012="">Service experience</span></li>
            <li data-v-94a66012="">
              充值方式<span data-v-94a66012="">Recharge method</span></li>
          </ul>
          <ul data-v-94a66012="" class="content">
            <li data-v-94a66012="" class="baiying"><img data-v-94a66012="" src="../image/computer.png">
              <div data-v-94a66012="">
                百盈彩票<br data-v-94a66012="">
                专业的彩票系统平台
              </div>
            </li>
            <li data-v-94a66012="">
              <div data-v-94a66012="" class="time">
                昨日充值到账平均时间
                <div data-v-94a66012="" class="outer">
                  <div data-v-94a66012="" class="inner"></div>
                </div> <span data-v-94a66012="">
                  <i data-v-94a66012="">分</i></span></div>
              <div data-v-94a66012="" class="time">
                昨日提现到账平均时间
                <div data-v-94a66012="" class="outer">
                  <div data-v-94a66012="" class="inner inner2"></div>
                </div> <span data-v-94a66012="">
                  <i data-v-94a66012="">分</i></span></div>
            </li>
            <li data-v-94a66012="" class="imgs"><img data-v-94a66012="" src="../image/weinxin.png">
              <img data-v-94a66012="" src="../image/zhifubao.png">
              <img data-v-94a66012="" src="../image/yinlian.png"></li>
          </ul>
          <div data-v-94a66012="" class="about_us">
            <ul data-v-94a66012="" class="about_list">
              <li data-v-94a66012=""><a data-v-94a66012="" href="javascript:void(0)">关于我们</a></li>
              <li data-v-94a66012=""><a data-v-94a66012="" href="javascript:void(0)">联系我们</a></li>
              <li data-v-94a66012=""><a data-v-94a66012="" href="javascript:void(0)">商务合作</a></li>
              <li data-v-94a66012=""><a data-v-94a66012="" href="javascript:void(0)">法律声明</a></li>
              <li data-v-94a66012=""><a data-v-94a66012="" href="javascript:void(0)">隐私声明</a></li>
            </ul>
            郑重提示 : 彩票有风险，投注需谨慎。不向未满十八岁的青少年出售彩票 !
          </div>
        </div>
      </div>
      <div v-if="cengFlag == true">
        <div>
          <div class="alert_box" id="red">
            <div class="alert_head public_back">温馨提示
              <img src="../image/white_close.png">
            </div>
            <p class="alert_text">
              <img src="../image/icon-alert.png">
              {{cengtitle}}
            </p>
            <div class="alert_bottom">
              <button class="public_btn" @click="cengShow()">确定</button>
            </div>
          </div>
          <div class="bg"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="../js/svga.min.js"></script>
  <script src="../js/jquery-1.11.3.min.js"></script>
  <script src="../js/vue.js"></script>
  <script src="../js/index.js"></script>
  <script>
    var app = new Vue({
      el: '#app',
      data: {
        title: '彩票走势',
        PLAY_LIST: [],
        XIADAN_LIST: [],
        ZOUSHI_LIST: [],
        period: 30,
        weiyiindex: 0,
        xiadanindex: 0,
        hzflag: false,
        uploadName: 'xu5',
        uploadNumber: 0,
        uploadPrice: 0,
        expect_num: '',
        hzarray: [],
        PLAYINDEX: -1,
        SBTHINDEX: 0,
        STHTXINDEX: 0,
        ERTHINDEX: 0,
        ERTHDXINDEX: 0,
        ERBTHINDEX: 0,
        INIT_NAME: 'gdxu5',
        CHINESE_NAME: "广东快乐10",
        ALL_ORDER_NAME: '',
        frist_countdown: '',
        middle_countdown: '',
        last_countdown: '',
        all_countdown: '',
        // 列表展开页面
        ALLFLAG: false,
        ALL_LIST: [],
        // 弹出层参数
        cengtitle: '',
        cengFlag: false,
        // 最新余额
        checkbalance: '',
        // 登陆相关参数
        loginObj: {},
        loginFlag: true,
        mima: '',
        zhanghao: '',
        balance: true,
        // 下单弹窗
        XIADAN_FLAG: false,
        // 倒计时获取
        DAOJISHI_NUM: 600,
        DAOJISHI_FLAG: true,
        DAOJISHI_LIST: [],
        DAOJISHI_SHOW: true,
        DAOJISHI_BEFORE: '',
        // 开奖时间间隔
        jknumber: 15
      },
      watch: {
        hzarray: {
          handler(newName, oldName) {
            console.log(newName);
            // this.uploadNumber 
            let num = 0;
            let price = 0;
            let str = ''
            let sum = 0;
            newName.forEach((item, index) => {
              sum += item.betting_count * item.betting_money
              price += parseInt(item.betting_money)
              str += item.betting_number + '#';
              num += item.betting_count
            })
            this.uploadNumber = num;
            this.uploadPrice = sum;
            this.ALL_ORDER_NAME = str;
          },
          deep: true,
          immediate: true
        }
      },
      created: async function () {
        try {
          this.uploadName = this.GetUrlByParamName('name')
          if (localStorage.getItem('loginobj') != null) {
            if (JSON.parse(localStorage.getItem('loginobj')).code == 200) {
              this.loginObj = JSON.parse(localStorage.getItem('loginobj'))
              this.loginFlag = false
              await this.init(this.period, this.uploadName)
              await this.kaijiang(this.DAOJISHI_NUM, this.uploadName, 0)
              //  一个是事件先后加载问题，一个是写一个if来调用第一次的开奖，加个index
            }
          } else {
            window.location.href = "../index.html"
            return
          }

        } catch (e) {
          console.log(e);
        }

      },
      mounted() {
        setInterval(() => {
          this.all_countdown--
          if (this.all_countdown == 0) {
            this.init(this.period, this.uploadName)
            this.cengFlag = true;
            this.cengtitle = this.CHINESE_NAME + "第" + (this.expect_num) + "期已经截止，当前期号是 " + parseInt(this.expect_num +
                1) +
              "，投注时请注意期号"
          }
          if (this.last_countdown == 0) {
            this.middle_countdown--
            if (this.middle_countdown < 10) {
              this.middle_countdown = '0' + this.middle_countdown
            }
            this.last_countdown = 59
          } else {
            if (this.last_countdown > 10) {
              this.last_countdown--
            } else {
              this.last_countdown--;
              this.last_countdown = '0' + this.last_countdown
            }
          }

        }, 1000);
      },
      computed: {
        longhu() {
          return (arr) => {
            let length = arr.length
            return arr[0] > arr[length - 1] ? '龙' : '虎'
          }
        },
        daxiao() {
          return (str, index) => {
            if (index == 1) {
              return str <= 5 ? '小' : '大'
            } else {
              return str % 2 == 0 ? '双' : '单'
            }
          }
        },
        qiuhe() {
          return (arr, index) => {
            let name = ''
            let sum = eval(arr.replace(/,/g, "+"))
            if (index == 1) {
              return sum
            } else if (index == 2) {
              if (sum == 30) {
                name = '和'
              } else if (sum < 30) {
                name = '小'
              } else {
                name = '大'
              }
              return name
            } else if (index == 3) {
              return sum % 2 == 0 ? '双' : '单'
            }
          }
        }

      },
      methods: {
        init(e, initname) {
          $.ajax({
            type: "get",
            url: HOST + "/api/all/lottery",
            success: (res) => {
              // 初始化全部彩种
              this.ALL_LIST = res.list;
            }
          });
          // 初始化下单列表
          $.ajax({
            type: "get",
            url: HOST + '/api/play/category?category=xu5',
            data: {
              session_id: this.loginObj.session_id
            },
            success: (res) => {
              // 初始化获取下单列表 
              console.log('获取下单列表');
              console.log(res);
              this.XIADAN_LIST = res.data;
            }
          });
          // 初始化获取玩法列表
          $.ajax({
            type: "post",
            url: HOST + "/api/play/lottery",
            data: {
              typeid: 'xu5',
              session_id: this.loginObj.session_id
            },
            success: (res) => {
              // 初始化获取玩法列表
              console.log('获取玩法列表');
              console.log(res);
              this.PLAY_LIST = res.list
              this.PLAY_LIST.forEach(item => {
                if (item.name == this.uploadName) {
                  this.CHINESE_NAME = item.title
                }
              })
            }
          });
          // 获取右侧开奖号码
          $.ajax({
            type: "post",
            url: HOST + "/api/lottery/draw",
            data: {
              name: initname,
              session_id: this.loginObj.session_id
            },
            success: (res) => {
              console.log('获取右侧走势列表');
              console.log(res);

              this.ZOUSHI_LIST = res.list;
            }
          });
          // 倒计时接口
          $.ajax({
            type: "get",
            url: HOST + "/api/betting/time",
            data: {
              name: initname,
              session_id: this.loginObj.session_id
            },
            success: (res) => {
              console.log('倒计时接口');
              console.log(res);
              this.DAOJISHI_NUM = res.data.interval_time;
              this.expect_num = res.data.expect;
              this.all_countdown = res.data.current_time;
              this.DAOJISHI_BEFORE = res.data.back_issue_no;
              this.frist_countdown = Math.floor(res.data.current_time / 60 / 60 % 24)
              this.middle_countdown = Math.floor(res.data.current_time / 60 % 60)
              this.last_countdown = Math.floor(res.data.current_time % 60)
              if (this.middle_countdown < 10) {
                this.middle_countdown = '0' + this.middle_countdown
              }
              if (this.frist_countdown < 10) {
                this.frist_countdown = '0' + this.frist_countdown
              }
              if (this.last_countdown < 10) {
                this.last_countdown = '0' + this.last_countdown
              }

            }
          });
        },
        GetUrlByParamName(name) {
          var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
          var URL = decodeURI(window.location.search);
          var r = URL.substr(1).match(reg);
          if (r != null) {
            return decodeURI(r[2]);
          }
          return null;
        },
        left() {
          if (this.weiyiindex == 0) {
            return
          } else {
            this.weiyiindex -= 1;
            $('.swiper-wrapper').css('transform', 'translate3d(' + (-this.weiyiindex * 100) + 'px, 0px, 0px)')
          }
        },
        right() {
          if (this.weiyiindex < this.PLAY_LIST.length - 8) {
            this.weiyiindex += 1;
            $('.swiper-wrapper').css('transform', 'translate3d(' + (-this.weiyiindex * 100) + 'px, 0px, 0px)')
          } else {
            return
          }
        },
        show(hzitem, index) {
          hzitem.show = !hzitem.show;
          let hzobj = {}
          if (hzitem.show == true) {
            hzobj.play_name = this.XIADAN_LIST[this.xiadanindex].title;
            hzobj.playid = hzitem.playid;
            hzobj.rate = Math.floor((hzitem.rate - (this.loginObj.point_user_type - this.loginObj.point) * hzitem.formula) *
              1000) / 1000;
            hzobj.betting_number = hzitem.title;
            hzobj.betting_money = 0
            hzobj.betting_count = 1;
            hzobj.formula = hzitem.formula
            this.hzarray.push(hzobj)
          } else if (hzitem.show == false) {
            this.hzarray.forEach((ele, index) => {
              if (ele.playid == hzitem.playid) {
                this.hzarray.splice(index, 1)
                return
              }
            });
          }
        },

        upload() {
          if (this.uploadNumber == 0) {
            this.cengFlag = true;
            this.cengtitle = '请至少选择一注投注号码';
          }
          this.hzarray.forEach(item => {
            if (item.betting_money <= 0) {
              this.cengFlag = true;
              this.cengtitle = '请先输入投注金额';
              return
            }
          })
          $.ajax({
            type: "post",
            url: HOST + "/api/user/betting",
            data: {
              json_data: JSON.stringify(this.hzarray),
              title: this.CHINESE_NAME,
              expect: this.expect_num,
              name: this.uploadName,
              typeid: 'xu5',
              session_id: this.loginObj.session_id
            },
            success: (res) => {
              this.XIADAN_FLAG = false;
              if (res.code == 200) {
                this.cengFlag = true;
                this.cengtitle = res.msg;
              } else {
                this.cengFlag = true;
                this.cengtitle = res.msg;
              }
            }
          });
        },

        changelist(name, index, title) {
          this.PLAYINDEX = index;
          this.hzarray = []
          this.uploadName = name
          this.CHINESE_NAME = title;
          $.ajax({
            type: "post",
            url: HOST + "/api/lottery/draw",
            data: {
              name: name,
              session_id: this.loginObj.session_id
            },
            success: (res) => {
              console.log('玩法列表-------');
              console.log(res);
              this.ZOUSHI_LIST = res.list;
            }
          });
          $.ajax({
            type: "post",
            url: HOST + "/api/betting/time",
            data: {
              typeid: name,
              session_id: this.loginObj.session_id
            },
            success: (res) => {
              console.log(res);
              this.expect_num = res.data.expect;
            }
          });

        },
        del(i, num) {
          console.log(i);
          this.hzarray.splice(i, 1)
          this.XIADAN_LIST[this.xiadanindex].list.forEach(item => {
            if (num == item.title) {
              item.show = false
            }
          })

        },
        clearArr() {
          this.hzarray = [];
          this.XIADAN_LIST.forEach(item => {
            item.list.forEach(i => {
              i.show = false;
            })
          })
        },
        qiehuan(index) {
          this.xiadanindex = index;
          this.ERTHDXINDEX = index;
        },
        JumpGo(arr) {
          switch (arr.typeid) {
            case 'k3':
              window.location.href = "./index.html?name=" + arr.name
              break;
            case 'ssc':
              window.location.href = "./ssc.html?name=" + arr.name
              break;
            case 'pk10':
              window.location.href = "./pk10.html?name=" + arr.name
              break;
            case 'kl10':
              window.location.href = "./kl10.html?name=" + arr.name
              break;
            case 'xu5':
              window.location.href = "./xu5.html?name=" + arr.name
              break;

            default:
              break;
          }
        },
        cengShow() {
          if (this.cengtitle == '请先登陆') {
            window.location.href = "../index.html"
          } else {
            this.cengFlag = false

          }
        },
        login() {
          $.ajax({
            type: "post",
            url: HOST + "/api/lottery/login",
            data: {
              account: this.zhanghao,
              password: this.mima
            },
            success: res => {
              console.log(res);
              if (res.code == 200) {
                localStorage.setItem('loginobj', JSON.stringify(res))
                this.loginObj = JSON.parse(localStorage.getItem('loginobj'))
                this.loginFlag = false
              }
              console.log(this.loginObj);
            }
          });
        },
        regist() {
          window.location.href = "./login/regist.html"
        },
        out() {
          this.loginFlag = true;
          localStorage.removeItem('loginobj')
        },
        gerezhongxin() {
          window.location.href = "../user/index.html"
        },
        // 打开下单弹出层
        openxiadan() {
          if (this.uploadNumber == 0) {
            this.cengFlag = true;
            this.cengtitle = '请至少选择一注投注号码';
            return
          }
          this.hzarray.forEach(item => {
            if (item.betting_money <= 0) {
              this.cengFlag = true;
              this.cengtitle = '请先输入投注金额';
              return
            }
          })
          if (this.cengFlag == false) this.XIADAN_FLAG = true
        },
        // 获取开奖接口
        kaijiang(time, initname, index) {
          // 这个time就是每个类型彩票的开奖时间，根据时间来设置定时器
          // 这个initname是期号，根据期号判断是否清除定时器
          console.log('进入方法');
          return new Promise((resolve, reject) => {
            let GetRandomNum = (Min, Max) => {
              var Range = Max - Min;
              var Rand = Math.random();
              return (Min + Math.round(Rand * Range));
            }
            let kjinit = (initname, num) => {
              $.ajax({
                type: "post",
                url: HOST + "/api/draw/result",
                data: {
                  name: initname,
                  session_id: this.loginObj.session_id
                },
                success: (res) => {
                  console.log('-----------开奖结果---------');
                  console.log(res);
                  if (res.res.expect == this.DAOJISHI_BEFORE) {
                    console.log('期号相等，不转了');
                    setTimeout(() => {
                      this.DAOJISHI_LIST = res.res.opencode.split(',');
                      this.DAOJISHI_SHOW = false
                    }, 3000)
                  } else {
                    console.log('期号不相等，继续转');

                    setTimeout(() => {
                      kjinit(initname, this.jknumber)
                    }, num * 1000)
                  }
                }
              });
            }
            if (index == 0) {
              switch (time) {
                case 600:
                  this.jknumber = GetRandomNum(10, 60)
                  break;
                case 300:
                  this.jknumber = GetRandomNum(10, 30)

                  break;
                case 60:
                  this.jknumber = GetRandomNum(3, 10)
                  break;
                default:
                  break;
              }
              kjinit(initname, this.jknumber)
              console.log('时间间隔' + this.jknumber);
            } else {
              console.log('调用频率为-----' + this.jknumber);
              kjinit(initname, this.jknumber)
            }
          })

        },
      }
    })
  </script>

</body>

</html>